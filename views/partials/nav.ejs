<nav class="side-nav" id="side-nav">
    <div class="nav-logo">
        <h2 style="margin-top: 5px; margin-bottom: 5px;">
            <a class="nav-title" style="color: black;" href="/">Pocket Money</a>
        </h2>
    </div>

    <!-- Collapse Button -->
    <div class="collapse-btn" id="collapse-btn">&#9776;</div> <!-- Hamburger Icon -->

    <div class="profile-dropdown-container">
        <div class="dropdown">
            <button class="profile-btn" id="profile-btn">
                <i class="fa fa-user"></i>
                <span id="user-name"><%= user.first_name %></span>
            </button>
            <div class="dropdown-content left" id="profile-dropdown">
                <a href="/profile">My Profile</a>
                <a href="/logout" id="logout">Log out</a>
            </div>
        </div>
    </div>

    <ul class="nav-menu">
        <li><a id="home-link" href="/dashboard" class="link"><i class="fa fa-home"></i> Dashboard</a></li>
        <li><a id="savings-link" href="/savings" class="link"><i class="fa fa-bank"></i> Savings</a></li>
        <li><a id="accounts-link" href="/accounts" class="link"><i class="fa fa-credit-card"></i> Accounts</a></li>
        <!-- <li><a id="reports-link" href="#" class="link"><i class="fa fa-bar-chart"></i> Reports</a></li> -->
        <li class="nav-dropdown">
            <a id="transactions-link" href="#" class="link" onclick="toggleDropdown(event)">
                <i class="fa fa-exchange"></i> Transactions 
                <i class="fa fa-chevron-down dropdown-arrow"></i>
            </a>
        </li>
        <div class="sub-links" id="subLinks">
            <li><a href="/transactions" class="link">All Transactions</a></li>
            <li><a href="/recurrentTransactions" class="link">Recurrent Transactions</a></li>
        </div>
        <li><a id="settings-link" href="/settings" class="link"><i class="fa fa-cog"></i> Settings</a></li>
    </ul>
</nav>

<!-- Right-aligned icon buttons -->
<div class="icon-buttons">
    <button class="icon-btn" id="add-btn" onclick="window.location.href = '/search'" title="Go to search page">
        <i class="fa fa-search"></i>
    </button>

    <!-- <div class="dropdown"> -->
        <button class="icon-btn" id="alerts-btn" onclick="window.location.href = '/alerts'" title="Go to alerts page">
            <i class="fa fa-bell"></i>
            <% if (typeof unreadAlertsCount !== 'undefined' && unreadAlertsCount > 0) { %>
                <span><%= unreadAlertsCount %></span>
            <% } %>
        </button>
        
        <!-- <div class="dropdown-content right alerts-dropdown" id="alerts-dropdown">
            <% if (userAlerts && userAlerts.length > 0) { %>
                <% userAlerts.forEach((alert, index) => { %>
                    <div class="alert-item" style="border-bottom: 1px solid #ccc; padding: 10px;">
                        <strong><%= alert.title %></strong>
                        <p><%= alert.body %></p>
                        <p style="font-size: 12px; color: #666;"><%= alert.date %></p>
                    </div>
                <% }); %>
            <% } else { %>
                <div>No alerts.</div>
            <% } %>
        </div> -->
    <!-- </div> -->
    
</div>